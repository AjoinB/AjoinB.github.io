<HEAD>
  <SCRIPT SRC="../ganja.js"></SCRIPT>
</HEAD>
<BODY><SCRIPT>
// Create a Clifford Algebra with 9,6 metric for 3D QCGA. 
Algebra(9,6,()=>{ 

  // http://www-igm.univ-mlv.fr/~vnozick/publications/breuils_ENGAGE_AACA_2018/breuils_ENGAGE_AACA_2018.pdf

  // Quadric Conformal CGA allows for natural generation of quadric objects
  // by wedging 9 points. 
  
  // Defining the null basis - bit cumbersome .. 
    var ei1=1e04+1e10,   ei2=1e05+1e11,   ei3=1e06+1e12,   ei4=1e07+1e13,   ei5=1e08+1e14,   ei6=1e09+1e15,
        eo1=.5e10-.5e04, eo2=.5e11-.5e05, eo3=.5e12-.5e06, eo4=.5e13-.5e07, eo5=.5e14-.5e08, eo6=.5e15-.5e09;
        
  // Create a quadric conformal point.
    var p = (x,y,z)=>x*1e01 + y*1e02 + z*1e03 + .5*x*x*ei1 + .5*y*y*ei2 + .5*z*z*ei3 + x*y*ei4 + x*z*ei5 + y*z*ei6 + eo1 + eo2 + eo3;          
    
  // Distance between two qcga points.  
    var dist = (a,b)=>(-2*a.Mul(b)[0][0])**.5;
    
  // Create two points 
    var p1 = p(0,0,0), p2 = p(1,1,0);

  // Output the distance from p1 to p1 and p1 to p2
    document.write(`<h3>Quadric Conformal Space</h3>
      p1 : ${p1.Vector.slice(0,3)}<BR>
      p2 : ${p2.Vector.slice(0,3)}<HR>
      p1 to p1 : ${dist(p1,p1)}<BR>
      p1 to p2 :${dist(p1,p2)}<HR>`);
    
  // Graph the distance as a test.
    Object.assign(document.body.appendChild(this.graph(
        (x,y)=>1-dist(p(x,y,0),p1)                             // the function we graph.
    ,{width:32,height:32})).style,{width:256,height:256})
        
});
</SCRIPT></BODY>