<HEAD>
  <SCRIPT SRC="../ganja.js"></SCRIPT>
</HEAD>
<BODY><SCRIPT>
// Create a Clifford Algebra with 6,3 metric for 3D CCGA. ("colored" CGA) 
Algebra(6,3,()=>{ 
  
  // https://link.springer.com/article/10.1007/s00006-014-0442-8
  
  document.write('Colored Conformal CGA<BR><BR>');
  
  // Null Basis
  var eix = 1e4+1e7,   eiy = 1e5+1e8,   eiz = 1e6+1e9;
  var eox = .5e7-.5e4, eoy = .5e8-.5e5, eoz = .5e9-.5e6;
  var ei = (eix+eiy+eiz)*(1/3), eo = eox+eoy+eoz;
  
  // Show an element by sampling the IP space. 
  var ip = (a,b)=>8*Math.abs((b<<a).s),
      show = (e)=>Object.assign(document.body.appendChild(this.graph((x,y)=>ip(point(x*1.5,y*1.5,0),e),{width:64,height:64})).style,{width:200,height:200,border:'1px solid black'})

  // Some primitives
  var pointv = [1e1,1e2,1e3,eix,eiy,eiz,eo],
      point  = (x,y,z)=>[x,y,z,.5*x**2,.5*y**2,.5*z**2,1]*pointv,
      ellipsoidv = [1e1,1e2,1e3,ei,eox,eoy,eoz],
      ellipsoid = (h,k,l,a,b,c)=>[h*a**-2,k*b**-2,l*c**-2,.5*(h**2*a**-2+k**2*b**-2+l**2*c**-2-1),a**-2,b**-2,c**-2]*ellipsoidv,
      plane = (x,y,z,d)=>x*1e1+y*1e2+z*1e3+d*ei;
      
  // 'render' via IPNS
  show(point(0,-1,0));
  show(ellipsoid( 0,0,0, 1,0.5,1 ));
  show(plane(0,1,0,0))

});
</SCRIPT></BODY>